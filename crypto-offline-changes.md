# Crypto + Offline Changes (Step-by-Step Log Template)

> Rule: after completing **each** step from `crypto-offline-plan.md` Section 9, document what changed here under the matching step.

## Step 0 — Baseline + guardrails

- Files changed:
- Summary:
- UI flow notes:
- Crypto notes:
- IndexedDB notes:
- Sync notes:
- Verification:

## Step 1 — Consolidate crypto API surface (deriveKey → encrypt → decrypt)

- Files changed:
- Summary:
- UI flow notes:
- Crypto notes:
- IndexedDB notes:
- Sync notes:
- Verification:

## Step 2 — Lock/unlock lifecycle hardening (clear key on lock/logout/tab close)

- Files changed:
- Summary:
- UI flow notes:
- Crypto notes:
- IndexedDB notes:
- Sync notes:
- Verification:

## Step 3 — Add IndexedDB foundation (schema + helper)

- Files changed:
- Summary:
- UI flow notes:
- Crypto notes:
- IndexedDB notes:
- Sync notes:
- Verification:

## Step 4 — Implement local encrypted entries repository (ciphertext-only)

- Files changed:
- Summary:
- UI flow notes:
- Crypto notes:
- IndexedDB notes:
- Sync notes:
- Verification:

## Step 5 — Implement sync queue repository

- Files changed:
- Summary:
- UI flow notes:
- Crypto notes:
- IndexedDB notes:
- Sync notes:
- Verification:

## Step 6 — Implement sync engine (push-only)

- Files changed:
- Summary:
- UI flow notes:
- Crypto notes:
- IndexedDB notes:
- Sync notes:
- Verification:

## Step 7 — Add offline/sync state + UI indicator

- Files changed:
- Summary:
- UI flow notes:
- Crypto notes:
- IndexedDB notes:
- Sync notes:
- Verification:

## Step 8 — Home list: IndexedDB-first, API fallback/refresh

- Files changed:
- Summary:
- UI flow notes:
- Crypto notes:
- IndexedDB notes:
- Sync notes:
- Verification:

## Step 9 — Entry page: offline load + offline save (enqueue + attempt sync)

- Files changed:
- Summary:
- UI flow notes:
- Crypto notes:
- IndexedDB notes:
- Sync notes:
- Verification:

## Step 10 — Delete flow: offline delete + queued delete

- Files changed:
- Summary:
- UI flow notes:
- Crypto notes:
- IndexedDB notes:
- Sync notes:
- Verification:

## Step 11 — Tests + verification matrix

- Files changed:
- Summary:
- UI flow notes:
- Crypto notes:
- IndexedDB notes:
- Sync notes:
- Verification:

